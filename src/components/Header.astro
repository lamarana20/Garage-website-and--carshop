<header class="bg-gradient-to-r from-gray-900 via-black to-gray-900 text-white sticky top-0 z-50 shadow-2xl border-b border-gray-800">
  <div class="bg-red-600 py-2">
    <div class="max-w-7xl mx-auto px-6 flex justify-between items-center text-sm">
      <div class="flex items-center gap-6">
        <a href="tel:+15185551234" class="flex items-center gap-2 hover:text-gray-200 transition-colors">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
          </svg>
          <span class="font-semibold">(518) 555-1234</span>
        </a>
        <a href="mailto:info@afgauto.com" class="flex items-center gap-2 hover:text-gray-200 transition-colors">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
          </svg>
          <span class="font-semibold">info@afgauto.com</span>
        </a>
      </div>
      <div class="hidden md:flex items-center gap-2">
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
        </svg>
        <span>Mon-Fri: 8AM-6PM | Sat: 9AM-4PM</span>
      </div>
    </div>
  </div>
  
  <nav class="max-w-7xl mx-auto px-6 py-4">
    <div class="flex justify-between items-center">
      <a href="/" class="flex items-center gap-3 group">
        <div class="w-12 h-12 bg-gradient-to-br from-red-600 to-red-700 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg">
          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
          </svg>
        </div>
        <div>
          <h1 class="text-xl font-black leading-tight">AFG Autosales</h1>
          <p class="text-xs text-gray-400">& Services</p>
        </div>
      </a>
      
      <ul class="hidden lg:flex items-center gap-8">
        <li>
          <a href="#home" class="nav-link text-white hover:text-red-500 transition-colors font-semibold relative group">
            Home
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-red-500 group-hover:w-full transition-all duration-300"></span>
          </a>
        </li>
        <li>
          <a href="#about" class="nav-link text-gray-300 hover:text-red-500 transition-colors font-semibold relative group">
            About
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-red-500 group-hover:w-full transition-all duration-300"></span>
          </a>
        </li>
        <li>
          <a href="#services" class="nav-link text-gray-300 hover:text-red-500 transition-colors font-semibold relative group">
            Services
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-red-500 group-hover:w-full transition-all duration-300"></span>
          </a>
        </li>
        <li>
          <a href="/Inventory" class="nav-link-page text-gray-300 hover:text-red-500 transition-colors font-semibold relative group">
        Cart shop
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-red-500 group-hover:w-full transition-all duration-300"></span>
          </a>
        </li>
        <li>
          <a href="#blog" class="nav-link text-gray-300 hover:text-red-500 transition-colors font-semibold relative group">
            Blog
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-red-500 group-hover:w-full transition-all duration-300"></span>
          </a>
        </li>
        <li>
          <a href="#contact" class="nav-link text-gray-300 hover:text-red-500 transition-colors font-semibold relative group">
            Contact
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-red-500 group-hover:w-full transition-all duration-300"></span>
          </a>
        </li>
      </ul>
      
      <a href="#contact" class="hidden lg:flex items-center gap-2 bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg font-bold transition-all hover:scale-105 shadow-lg hover:shadow-red-500/50">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
        </svg>
        Book Appointment
      </a>
      
      <button id="mobile-menu-btn" class="lg:hidden text-white p-2 hover:bg-gray-800 rounded-lg transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
    
    <div id="mobile-menu" class="hidden lg:hidden mt-4 pb-4 border-t border-gray-800 pt-4">
      <ul class="space-y-3">
        <li>
          <a href="#home" class="mobile-nav-link block py-2 px-4 text-white hover:bg-gray-800 rounded-lg transition-colors font-semibold">
            Home
          </a>
        </li>
        <li>
          <a href="#about" class="mobile-nav-link block py-2 px-4 text-gray-300 hover:bg-gray-800 rounded-lg transition-colors font-semibold">
            About
          </a>
        </li>
        <li>
          <a href="#services" class="mobile-nav-link block py-2 px-4 text-gray-300 hover:bg-gray-800 rounded-lg transition-colors font-semibold">
            Services
          </a>
        </li>
        <li>
          <a href="/Inventory" class="mobile-nav-link-page block py-2 px-4 text-gray-300 hover:bg-gray-800 rounded-lg transition-colors font-semibold">
         Cart shop
          </a>
        </li>
        <li>
          <a href="#blog" class="mobile-nav-link block py-2 px-4 text-gray-300 hover:bg-gray-800 rounded-lg transition-colors font-semibold">
            Blog
          </a>
        </li>
        <li>
          <a href="#contact" class="mobile-nav-link block py-2 px-4 text-gray-300 hover:bg-gray-800 rounded-lg transition-colors font-semibold">
            Contact
          </a>
        </li>
        <li class="pt-2">
          <a href="#contact" class="flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg font-bold transition-colors w-full">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            Book Appointment
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>

<style>
  /* Active state for desktop navigation */
  .nav-link.active,
  .nav-link-page.active { /* Added link-page for consistent styling */
    color: #ef4444 !important;
  }
  
  .nav-link.active span,
  .nav-link-page.active span {
    width: 100% !important;
  }
  
  /* Active state for mobile navigation */
  .mobile-nav-link.active,
  .mobile-nav-link-page.active { /* Added link-page for consistent styling */
    background-color: rgba(255, 255, 255, 0.1);
    color: #ef4444 !important;
  }
</style>

<script>
  // Mobile menu toggle
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  
  mobileMenuBtn?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });
  
  // Active link highlighting based on scroll position
  const sections = document.querySelectorAll('section[id]');
  // Select only the anchor links for the scroll spy
  const navLinks = document.querySelectorAll('.nav-link'); 
  const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
  
  function setActiveLink() {
    let currentSection = '';
    
    sections.forEach(section => {
      const sectionTop = (section as HTMLElement).offsetTop;
      const sectionHeight = (section as HTMLElement).clientHeight;
      
      // We look for sections currently visible in the viewport
      if (window.scrollY >= sectionTop - 200) {
        const id = section.getAttribute('id');
        if (id) currentSection = id;
      }
    });
    
    // --- Desktop Nav Links (Scroll Spy) ---
    navLinks.forEach(link => {
      link.classList.remove('active', 'text-red-500');
      link.classList.add('text-gray-300');
      
      if (link.getAttribute('href') === `#${currentSection}`) {
        link.classList.add('active', 'text-red-500');
        link.classList.remove('text-gray-300');
      }
      
      // Keep Home active by default if at top
      if (currentSection === '' && link.getAttribute('href') === '#home') {
        link.classList.add('active', 'text-red-500');
        link.classList.remove('text-gray-300');
      }
    });

    // --- Desktop Page Link (Manual Active State) ---
    const inventoryDesktopLink = document.querySelector('a[href="/Inventory"]')
    // Manually check if the current page URL matches the link
    if (inventoryDesktopLink) {
        if (window.location.pathname === '/Inventory' || window.location.pathname === '/Inventory/') {
            inventoryDesktopLink.classList.add('active', 'text-red-500');
            inventoryDesktopLink.classList.remove('text-gray-300');
        } else {
            inventoryDesktopLink.classList.remove('active', 'text-red-500');
            inventoryDesktopLink.classList.add('text-gray-300');
        }
    }
    
    // --- Mobile Nav Links (Scroll Spy) ---
    mobileNavLinks.forEach(link => {
      link.classList.remove('active');
      
      if (link.getAttribute('href') === `#${currentSection}`) {
        link.classList.add('active');
      }
      
      // Keep Home active by default if at top
      if (currentSection === '' && link.getAttribute('href') === '#home') {
        link.classList.add('active');
      }
    });

    // --- Mobile Page Link (Manual Active State) ---
    const inventoryMobileLink = document.querySelector('.mobile-nav-link-page');
    if (inventoryMobileLink) {
        if (window.location.pathname === '/Inventory' || window.location.pathname === '/Inventory/') {
            inventoryMobileLink.classList.add('active');
        } else {
            inventoryMobileLink.classList.remove('active');
        }
    }
  }
  
  // Run on scroll
  window.addEventListener('scroll', setActiveLink);
  
  // Run on load
  window.addEventListener('load', setActiveLink);
  
  // Close mobile menu when clicking a link
  document.querySelectorAll('.mobile-nav-link, .mobile-nav-link-page').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });
</script>